# 分布式架构
### 1.1.1 集中式的特点
1. 部署结构简单
2. 不考虑分布式协同问题
3. 由一台或者多台计算机组成的中心节点

### 1.1.2 分布式的特点
1. 软件的组件分布在不同的网络计算机中
2. 通过消息进行通信和协调

### 1.1.3 分布式环境的各种问题
* 通信异常：由于网络本身的不可靠性，但分布式系统的各个节点又需要网络通信，而导致消息丢失和消息延迟变得非常普遍。
* 分区异常：网络发生异常情况，分布式系统中的部分子节点网络延迟不断增加，最终导致部分的节点能够正常通信，而其他子节点不能，产生局部分区。
* 三态：由于网络问题，发送的消息不能确定绝接收方是否接受到或者发送出来。
* 节点故障

## 1.2 从ACID到CAP/BASE
事务：是由一系列对系统中数据进行访问与更新的操作所组成的一个系统执行逻辑单元，狭义上的事务特指数据库事务。  
事务的特征：
1. 原子性：只允许出现全部成功执行或者全部不执行。
2. 一致性：提交的事务只包含成功的事务提交解决成功，就说明数据库处于一致性状态。
3. 隔离性：并发的事务是相互隔离的，一个执行的事务不会被其他事务干扰。
4. 持久性：事务一旦提交，就被永久保存下来。

### 1.2.2 分布式事务
分布式事务指的是事务的参与者、支持事务的服务器、资源服务器以及事务管理器分别位于分布式系统的不同节点之上。  

# 一致性协议
## 2.1 2PC与3PC
### 2.1.1 2PC
* 优点：原理简单、实现方便。
* 缺点：同步阻塞、单点问题、太过保守、脑裂。


### 2.1.2 3PC
* 优点：降低2PC的同步阻塞范围、解决单点问题。
* 缺点：在preCommit阶段依然存在分区问题。

