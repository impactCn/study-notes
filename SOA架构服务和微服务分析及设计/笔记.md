# 理解面向服务
## 3.1 面向服务简介
* 所有的功能完成同一服务
* 每项功能具有可用性、可靠性、使用相同的语言
### 3.1.1 业务自动化中的服务
服务是一款软件程序，其通过发布API（服务契约的一种）实现其功能的可用性。
### 3.1.2 服务是能力的集合
单个服务可以提供一个提供能力集合的API，这些API因为该服务的上下文功能而被组合在一起，因此服务的本质上是相关功能的容器。
### 3.1.3 面向服务是一种设计范式
在构建分布式解决方案逻辑时，设计方案通过一种“关注点分离”的软件工程理论而实现。简而言之，这个理论说明，将更大的问题分解成一组较小的问题或关注点时，这个问题就能有效地解决。这让我们产生了将解决问题的逻辑划分成多个功能的想法，每个功能都旨在解决单一的关注点。相关的功能可以分组为解决方案逻辑单元。
* 面向服务的解决方案通过服务和根据面向服务设计的服务组合实现。
* 服务组合由一系列组合起来以提供特定业务自动化任务或流程所需服务组合。
* 因为面向服务将许多服务形成企业资源，所以一个服务也许会被多个消费者程序调用，每个消费者程序可以涉及不同服务组合中的相同服务。
* 标准化集合服务能够形成自己的物理部署环境内独立管理服务的服务目录的基础。
* 通过从服务目录中的现有不可知服务池中创建服务组合可以使多个业务流程实现自动化。

### 3.1.4 面向服务的设计原则
* 标准化服务契约 —— 同一服务目录中的服务符合相同的契约设计标准。
* 服务松耦合 —— 服务契约降低消费者耦合需求，并且她们自身与它所在的周边环境解耦。
* 服务抽象 —— 服务契约只包涵基本信息，以及那些仅限于服务契约发布的信息。
* 服务可重用性 —— 服务包含显示不可知的逻辑，可以定位为可重用的企业资源。
* 服务自治 —— 服务对其内部的运行时执行环境进行高度把握。
* 服务无状态 —— 服务通过必要时推迟状态信息的管理来最小化资源消耗。
* 服务可发现性 —— 服务补充了交互元数据，通过它们可以有效地发现和诠释服务。
* 服务可组合性 —— 服务是有效的组合参与者，无需考虑组合物的大小和复杂性。

## 3.2 面向服务所解决的问题
### 3.2.1 竖井式应用程序
通过识别要自动化的业务任务，定义其业务需求，然后构建相应的解决方案逻辑，但是这些应用进一步获取任何价值往往会被抑制，因为它们的能力和功能都是业务需求和流程相关。
### 3.2.2 大量浪费
在给定企业创建新的解决逻辑通常会造成大量的冗余功能，构造该逻辑所需的努力和费用也是冗余的。
### 3.2.3 缺乏效率
不断地构建和重建其他地方已经存在的逻辑就是低效的。
### 3.2.4 企业膨胀
每个新的或扩展应用程序都能添加到大部分的IT环境系统目录中，不断的扩大的托管、维护和管理需求可能使IT部门在预算和资源、规模方面面临一定的膨胀，从而会使IT成为整个组织的一大消耗。
### 3.2.5 产生复杂的基础设施和错综复杂的企业架构
不同的应用的差异可能导致反联合环境，企业发展规划和基础设施扩展变得愈加具有挑战性。
### 3.2.6 系统间集成成为永恒的挑战
仅考虑特定业务流程自动化而构建应用程序通常不按照互操作性需求来设计。
### 3.2.7 面向服务的需求
* 提高了功能和数据表达的一致性。
* 降低了解决方案逻辑单元之间的依赖性。
* 降低了底层解决方案逻辑设计和实现细节的关注。
* 增加了在多种目标中使用一个解决方案逻辑模块的机会。
* 增加了将解决方案逻辑单元组合成不同的配置机会。
* 提升了行为可预测性。
* 提高了可用性和可扩展性。
* 提高了对可用解决方案逻辑的认知。
### 3.2.8 增加了可复用解决方案逻辑
在面向服务的解决方案中，逻辑（服务）单元封装了不属于任何应用或业务流程特有的功能。
### 3.2.9 削减应用个性化业务逻辑
增加不针对任何一个应用程序或业务流程的解决逻辑数量，减少所需的针对应用程序逻辑数量。
### 3.2.10 削减业务逻辑的总量
解决方案逻辑的总量减少，因此自动化实现了多个业务流程时相同逻辑的重用和共享。
### 3.2.11 本征互操作性
来自不同服务目录的组合变得更容易。
## 3.3 面向服务对企业的影响
### 3.3.1 面向服务和应用的概念
* 从容地远离应用程序以前存在的竖井。
* 共享重用逻辑。
* 通过服务组合实现自动化。
### 3.3.2 面向服务和集成的概念
* 自由地将服务混合合并匹配到组合配置里。
* 建立可靠数据交换水平需求。
### 3.3.3 服务组合
面向服务的解决方案、应用程序或者系统相当于一个服务组合。
# 第四章 理解面向服务架构
## 4.1 SOA的4个特征
* 业务驱动
* 供应商中立（可以理解成技术应该有替代性）
* 企业中心化
    * 该逻辑在特定实现边界之外可用。
    * 该逻辑是根据既定的设计原则和企业标准设计的。
* 组合中心化
    * 服务必须是可组合的
* 设计优先度
    * 商业价值高于技术战略。
    * 战略目的高于项目特定的效益。
    * 本征互操作高于定制集成。
    * 共享的服务高于特定目的的实现。
    * 灵活高于效率。
    * 渐进的演化高于追求一开始的尽善尽美。

## 4.2 SOA的4种常见类型
由大到小的粗粒度可分成以下：
* 服务架构 —— 单个服务的架构
* 服务组合架构 —— 组合成服务组合的一组服务架构
* 服务目录架构 —— 支持独立标准化和管理的相关服务集合的架构
* 面向服务的企业架构 —— 企业自身的架构，无论其面向服务的程度多高。

## 4.4 SOA项目和生命周期
* SOA措施规划
    * 计划服务目录范围和最终目标状态
    * 代表中间目标状态和里程碑
    * 完成里程碑和整体采纳工作的时间表
    * 可用资金和适当的供资模式
    * 自理系统
    * 管理系统
    * 方法
    * 风险评估
* 服务目录分析
    * 定义企业业务模型
    * 定义技术架构
    * 定义服务目录蓝图
    * 执行面向分析
* 面向服务分析
    * 定义业务自动化需求
    * 识别现有的自动化系统
    * 对候选服务进行建模
* 面向服务设计
* 服务逻辑设计
* 服务开发
* 服务测试 
* 服务部署和维护
* 服务使用和监控
* 服务发现
* 服务版本控制和退役

# 第五章 理解服务和微服务的层次
### 5.1.1 服务模型和服务层次
* 任务模型 —— 任务服务通常对应单一用途的父业务流程逻辑的非不可知的功能上下服务。任务服务通常会被封装组成多个其他服务以完成任务所需的组合逻辑。
* 微服务 —— 一种飞不可知服务，通常包含特定处理和实现需求逻辑小功能范围。微服务通常不可重用，但可以具有解决方案内复用潜力。逻辑性质也许会变化。
* 实体服务 —— 具有一个或多个相关业务实体（比如发票、客户、索赔）相关联的不可知功能上下文的可重用服务。
* 公共服务 —— 虽然是具有不可知功能上下文的可重用功能，但是这类服务并不是从业务分析规范和模型中得出的。它封装了底层技术中心功能，比如通知、日志等功能。

















